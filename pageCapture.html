---
layout: default-withsidebar
title: chrome.pageCapture
support: 18
copyright: opera-google-ccby
originalsource: http://developer.chrome.com/extensions/pageCapture.html
---


<div id="gc-pagecontent">

<h2>Contents</h2>

	<div id="toc">
		<ol>
			<li>
				<a href="#manifest">Manifest</a>
			</li>
			<li>
				<a href="#methods">Methods</a>
				<ol>
					<li><a href="#method-saveAsMHTML">saveAsMHTML</a></li>
				</ol>
			</li>
		</ol>
	</div>
	<table class="intro" id="intro">
		<tr>
			<td class="title">Description:</td>
			<td>


					Use the <code>chrome.pageCapture</code> API to save a tab as MHTML.



					<br>
			</td>
		</tr>
		<tr>
			<td class="title">Permissions:</td>
			<td>

					<code class="code">
					"pageCapture"

					</code>

					<br>
			</td>
		</tr>
	</table>
<p>
MHTML is a <a href="http://tools.ietf.org/html/rfc2557">standard format</a>
supported by most browsers. It encapsulates in a single file a page and all
its resources (CSS files, images..).
</p>

<p>
Note that for security reasons a MHTML file can only be loaded from the file
system and that it can only be loaded in the main frame.
</p>

<h2 id="manifest">Manifest</h2>


<p>You must declare the "pageCapture" permission
in the <a href="manifest.html">extension manifest</a>
to use the pageCapture API.
For example:</p>
<pre class="prettyprint" data-filename="manifest.json">
{
"name": "My extension",
...
<b>"permissions": [
"pageCapture"
]</b>,
...
}
</pre>
	<div class="api_reference">
			<h2 id="methods">Methods</h2>
				<div>
					<h4 id="method-saveAsMHTML">
						saveAsMHTML
					</h4>

					<div class="summary uncapitalize">
					<div class="line">
					<code>chrome.pageCapture.saveAsMHTML</code>(<code>object <code class="variable">details</code></code>, <code>function <code class="variable">callback</code></code>)
					</div>
					</div>
					<div class="description">
						<p>
							Saves the content of the tab with given id as MHTML.
						</p>
						<h4>Parameters</h4>
						<dl>
								<div>
									<a name="property-saveAsMHTML-details"></a>
									<dl>
										<dt>
											<code class="variable">details</code>
											<code class="property">
												(

													object
												)
											</code>
										</dt>
										<dd>

										</dd>
									</dl>
									<dd>
										<h5>Properties of <code class="variable">details</code></h5>
										<dl>
											<div>
												<a name="property-details-tabId"></a>
												<dl>
													<dt>
														<code class="variable">tabId</code>
														<code class="property">
															(

																integer
															)
														</code>
													</dt>
													<dd>
														The id of the tab to save as MHTML.

													</dd>
												</dl>
											</div>
										</dl>
									</dd>
								</div>
								<div>
									<a name="property-saveAsMHTML-callback"></a>
									<dl>
										<dt>
											<code class="variable">callback</code>
											<code class="property">
												(

													function
												)
											</code>
										</dt>
										<dd>
											Called when the MHTML has been generated.

										</dd>
									</dl>
								</div>
						</dl>
							<h4>Callback</h4>
							<p>
										The <em>callback</em> parameter should specify a function
										that looks like this:
							</p>
							<pre class="prettyprint">function(binary mhtmlData) <code class="subdued">{...}</code>;</pre>
							<dl>
									<div>
										<a name="property-callback-mhtmlData"></a>
										<dl>
											<dt>
												<code class="variable">mhtmlData</code>
												<code class="property">
													(
														<code class="optional">optional</code>
														binary
													)
												</code>
											</dt>
											<dd>
												The MHTML data as a Blob.

											</dd>
										</dl>
									</div>
							</dl>
					</div>
				</div>
	</div>
</div>
