---
layout: default-withsidebar
title: chrome.history
support: 16
copyright: opera-google-ccby
originalsource: http://developer.chrome.com/trunk/extensions/history.html
---
     <div id="gc-pagecontent">
		<div id="toc">
               <ol>
                   <li>
                     <a href="#apiReference">Reference</a>
                     <ol>
                       <li>
                         <a href="#types">Types</a>
                         <ol>
                           <li>
                             <a href="#type-HistoryItem">HistoryItem</a>
                           </li>
                           <li>
                             <a href="#type-VisitItem">VisitItem</a>
                           </li>
                         </ol>
                       </li>
                       <li>
                         <a href="#methods">Methods</a>
                         <ol>
                           <li><a href="#method-search">search</a></li>
                           <li><a href="#method-getVisits">getVisits</a></li>
                           <li><a href="#method-addUrl">addUrl</a></li>
                           <li><a href="#method-deleteUrl">deleteUrl</a></li>
                           <li><a href="#method-deleteRange">deleteRange</a></li>
                           <li><a href="#method-deleteAll">deleteAll</a></li>
                         </ol>
                       </li>
                       <li>
                         <a href="#events">Events</a>
                         <ol>
                           <li><a href="#event-onVisited">onVisited</a></li>
                           <li><a href="#event-onVisitRemoved">onVisitRemoved</a></li>
                         </ol>
                       </li>
                     </ol>
                   </li>
               </ol>
             </div>
             <table class="intro" id="intro">
               <tr>
                 <td><strong>Description:</strong></td>
                 <td>
                     Use the <code>chrome.history</code> API to add, remove, and query for URLs in the browser's history.</a>
                 </td>
               </tr>
               <tr>
                 <td><strong>Permissions:</strong></td>
                 <td><code class="code">"history"</code></td>
               </tr>
               <tr>
                 <td><strong>Learn more:</strong></td>
                 <td><a href="tut_hist.html">Working with the browser history</a></td>
               </tr>
             </table>
             <div class="api_reference">
                 <h2 id="types">Types</h2>
                   <div>
                     <h3 id="type-HistoryItem">HistoryItem</h3>
                     <div>
                       <dd>An object encapsulating one result of a history query.</dd>
                         <h4 id="HistoryItem-properties" class="capitalize">
                           properties of <a href="#type-HistoryItem">HistoryItem</a>
                         </h4>
                         <dd>
                           <dl>
                               <div>
                                 <a name="property-HistoryItem-id"></a>
                                 <dt>
                                   <code class="variable">id</code>
                                   <code class="property">
                                     (

                                       string
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The unique identifier for the item.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-HistoryItem-url"></a>
                                 <dt>
                                   <code class="variable">url</code>
                                   <code class="property">
                                     (
                                       <code class="optional">optional</code>
                                       string
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The URL navigated to by a user.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-HistoryItem-title"></a>
                                 <dt>
                                   <code class="variable">title</code>
                                   <code class="property">
                                     (
                                       <code class="optional">optional</code>
                                       string
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The title of the page when it was last loaded.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-HistoryItem-lastVisitTime"></a>
                                 <dt>
                                   <code class="variable">lastVisitTime</code>
                                   <code class="property">
                                     (
                                       <code class="optional">optional</code>
                                       double
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   When this page was last loaded, represented in milliseconds since the epoch.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-HistoryItem-visitCount"></a>
                                 <dt>
                                   <code class="variable">visitCount</code>
                                   <code class="property">
                                     (
                                       <code class="optional">optional</code>
                                       integer
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The number of times the user has navigated to this page.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-HistoryItem-typedCount"></a>
                                 <dt>
                                   <code class="variable">typedCount</code>
                                   <code class="property">
                                     (
                                       <code class="optional">optional</code>
                                       integer
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The number of times the user has navigated to this page by typing in the address.
                                 </dd>
                               </div>
                           </dl>
                         </dd>
                     </div>
                   </div>
                   <div>
                     <h3 id="type-VisitItem">VisitItem</h3>
                     <div>
                       <dd>An object encapsulating one visit to a URL.</dd>
                         <h4 id="VisitItem-properties" class="capitalize">
                           properties of <a href="#type-VisitItem">VisitItem</a>
                         </h4>
                         <dd>
                           <dl>
                               <div>
                                 <a name="property-VisitItem-id"></a>
                                 <dt>
                                   <code class="variable">id</code>
                                   <code class="property">
                                     (

                                       string
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The unique identifier for the item.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-VisitItem-visitId"></a>
                                 <dt>
                                   <code class="variable">visitId</code>
                                   <code class="property">
                                     (

                                       string
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The unique identifier for this visit.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-VisitItem-visitTime"></a>
                                 <dt>
                                   <code class="variable">visitTime</code>
                                   <code class="property">
                                     (
                                       <code class="optional">optional</code>
                                       double
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   When this visit occurred, represented in milliseconds since the epoch.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-VisitItem-referringVisitId"></a>
                                 <dt>
                                   <code class="variable">referringVisitId</code>
                                   <code class="property">
                                     (

                                       string
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The visit ID of the referrer.
                                 </dd>
                               </div>
                               <div>
                                 <a name="property-VisitItem-transition"></a>
                                 <dt>
                                   <code class="variable">transition</code>
                                   <code class="property">
                                     (

                                       enum of <code>"link"</code>, <code>"typed"</code>, <code>"auto_bookmark"</code>, <code>"auto_subframe"</code>, <code>"manual_subframe"</code>, <code>"generated"</code>, <code>"auto_toplevel"</code>, <code>"form_submit"</code>, <code>"reload"</code>, <code>"keyword"</code>, or <code>"keyword_generated"</code>
                                     )
                                   </code>
                                 </dt>
                                 <dd>
                                   The <a href='tut_hist.html#transition_types'>transition type</a> for this visit from its referrer.
                                 </dd>
                               </div>
                           </dl>
                         </dd>
                     </div>
                   </div>
                 <h2 id="methods">Methods</h2>
                   <div>
                     <h4 id="method-search">
                       search
                     </h4>
                     <div class="summary uncapitalize">
                     <code>chrome.history.search</code>(<code>object <code class="variable">query</code></code>, <code>function <code class="variable">callback</code></code>)
                     </div>
                     <div class="description">
                       <p>
                         Searches the history for the last visit time of each page matching the query.
                       </p>
                       <h4>Parameters</h4>
                       <dl>
                           <div>
                             <a name="property-search-query"></a>
                             <dt>
                               <code class="variable">query</code>
                               <code class="property">
                                 (

                                   object
                                 )
                               </code>
                             </dt>
                             <dd>
                               <dl>
                                 <div>
                                   <a name="property-query-text"></a>
                                   <dt>
                                     <code class="variable">text</code>
                                     <code class="property">
                                       (

                                         string
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     A free-text query to the history service.  Leave empty to retrieve all pages.
                                   </dd>
                                 </div>
                                 <div>
                                   <a name="property-query-startTime"></a>
                                   <dt>
                                     <code class="variable">startTime</code>
                                     <code class="property">
                                       (
                                         <code class="optional">optional</code>
                                         double
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     Limit results to those visited after this date, represented in milliseconds since the epoch.
                                   </dd>
                                 </div>
                                 <div>
                                   <a name="property-query-endTime"></a>
                                   <dt>
                                     <code class="variable">endTime</code>
                                     <code class="property">
                                       (
                                         <code class="optional">optional</code>
                                         double
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     Limit results to those visited before this date, represented in milliseconds since the epoch.
                                   </dd>
                                 </div>
                                 <div>
                                   <a name="property-query-maxResults"></a>
                                   <dt>
                                     <code class="variable">maxResults</code>
                                     <code class="property">
                                       (
                                         <code class="optional">optional</code>
                                         integer
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     The maximum number of results to retrieve.  Defaults to 100.
                                   </dd>
                                 </div>
                               </dl>
                             </dd>
                           </div>
                           <div>
                             <a name="property-search-callback"></a>
                             <dt>
                               <code class="variable">callback</code>
                               <code class="property">
                                 (

                                   function
                                 )
                               </code>
                             </dt>
                           </div>
                       </dl>
                         <h4>Callback</h4>
                         <p>
                               The <em>callback</em> parameter should specify a function
                               that looks like this:
                         </p>
                         <pre class="prettyprint">function(array of <a href="history.html#type-HistoryItem">HistoryItem</a> results) <code class="subdued">{...}</code>;</pre>
                         <dl>
                             <div>
                               <a name="property-callback-results"></a>
                               <dt>
                                 <code class="variable">results</code>
                                 <code class="property">
                                   (
                                     array of <a href="history.html#type-HistoryItem">HistoryItem</a>
                                   )
                                 </code>
                               </dt>
                             </div>
                         </dl>
                     </div>
                   </div>
                   <div>
                     <h4 id="method-getVisits">
                       getVisits
                     </h4>
                     <div class="summary uncapitalize">
                     <code>chrome.history.getVisits</code>(<code>object <code class="variable">details</code></code>, <code>function <code class="variable">callback</code></code>)
                     </div>
                     <div class="description">
                       <p>
                         Retrieves information about visits to a URL.
                       </p>
                       <h4>Parameters</h4>
                       <dl>
                           <div>
                             <a name="property-getVisits-details"></a>
                             <dt>
                               <code class="variable">details</code>
                               <code class="property">
                                 (

                                   object
                                 )
                               </code>
                             </dt>
                             <dd>
                               <dl>
                                 <div>
                                   <a name="property-details-url"></a>
                                   <dt>
                                     <code class="variable">url</code>
                                     <code class="property">
                                       (

                                         string
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     The URL for which to retrieve visit information.  It must be in the format as returned from a call to history.search.
                                   </dd>
                                 </div>
                               </dl>
                             </dd>
                           </div>
                           <div>
                             <a name="property-getVisits-callback"></a>
                             <dt>
                               <code class="variable">callback</code>
                               <code class="property">
                                 (

                                   function
                                 )
                               </code>
                             </dt>
                           </div>
                       </dl>
                         <h4>Callback</h4>
                         <p>
                               The <em>callback</em> parameter should specify a function
                               that looks like this:
                         </p>
                         <pre class="prettyprint">function(array of <a href="history.html#type-VisitItem">VisitItem</a> results) <code class="subdued">{...}</code>;</pre>
                         <dl>
                             <div>
                               <a name="property-callback-results"></a>
                               <dt>
                                 <code class="variable">results</code>
                                 <code class="property">
                                   (

                                     array of <a href="history.html#type-VisitItem">VisitItem</a>
                                   )
                                 </code>
                               </dt>
                             </div>
                         </dl>
                     </div>
                   </div>
                   <div>
                     <h4 id="method-addUrl">
                       addUrl
                     </h4>
                     <div class="summary uncapitalize">
                     <code>chrome.history.addUrl</code>(<code>object <code class="variable">details</code></code>, <code class="optional">function <code class="variable">callback</code></code>)
                     </div>
                     <div class="description">
                       <p>
                         Adds a URL to the history at the current time with a <a href='tut_hist.html#transition_types'>transition type</a> of "link".
                       </p>
                       <h4>Parameters</h4>
                       <dl>
                           <div>
                             <a name="property-addUrl-details"></a>
                             <dt>
                               <code class="variable">details</code>
                               <code class="property">
                                 (

                                   object
                                 )
                               </code>
                             </dt>
                             <dd>
                               <dl>
                                 <div>
                                   <a name="property-details-url"></a>
                                   <dt>
                                     <code class="variable">url</code>
                                     <code class="property">
                                       (

                                         string
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     The URL to add.
                                   </dd>
                                 </div>
                               </dl>
                             </dd>
                           </div>
                           <div>
                             <a name="property-addUrl-callback"></a>
                             <dt>
                               <code class="variable">callback</code>
                               <code class="property">
                                 (
                                   <code class="optional">optional</code>
                                   function
                                 )
                               </code>
                             </dt>
                           </div>
                       </dl>
                         <h4>Callback</h4>
                         <p>
                               If you specify the <em>callback</em> parameter, it should
                               specify a function that looks like this:
                         </p>
                         <pre class="prettyprint">function() <code class="subdued">{...}</code>;</pre>
                     </div>
                   </div>
                   <div>
                     <h4 id="method-deleteUrl">
                       deleteUrl
                     </h4>
                     <div class="summary uncapitalize">
                     <code>chrome.history.deleteUrl</code>(<code>object <code class="variable">details</code></code>, <code class="optional">function <code class="variable">callback</code></code>)
                     </div>
                     <div class="description">
                       <p>
                         Removes all occurrences of the given URL from the history.
                       </p>
                       <h4>Parameters</h4>
                       <dl>
                           <div>
                             <a name="property-deleteUrl-details"></a>
                             <dt>
                               <code class="variable">details</code>
                               <code class="property">
                                 (

                                   object
                                 )
                               </code>
                             </dt>
                             <dd>
                               <dl>
                                 <div>
                                   <a name="property-details-url"></a>
                                   <dt>
                                     <code class="variable">url</code>
                                     <code class="property">
                                       (

                                         string
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     The URL to remove.
                                   </dd>
                                 </div>
                               </dl>
                             </dd>
                           </div>
                           <div>
                             <a name="property-deleteUrl-callback"></a>
                             <dt>
                               <code class="variable">callback</code>
                               <code class="property">
                                 (
                                   <code class="optional">optional</code>
                                   function
                                 )
                               </code>
                             </dt>
                           </div>
                       </dl>
                         <h4>Callback</h4>
                         <p>
                               If you specify the <em>callback</em> parameter, it should
                               specify a function that looks like this:
                         </p>
                         <pre class="prettyprint">function() <code class="subdued">{...}</code>;</pre>
                     </div>
                   </div>
                   <div>
                     <h4 id="method-deleteRange">
                       deleteRange
                     </h4>
                     <div class="summary uncapitalize">
                     <code>chrome.history.deleteRange</code>(<code>object <code class="variable">range</code></code>, <code>function <code class="variable">callback</code></code>)
                     </div>
                     <div class="description">
                       <p>
                         Removes all items within the specified date range from the history.  Pages will not be removed from the history unless all visits fall within the range.
                       </p>
                       <h4>Parameters</h4>
                       <dl>
                           <div>
                             <a name="property-deleteRange-range"></a>
                             <dt>
                               <code class="variable">range</code>
                               <code class="property">
                                 (

                                   object
                                 )
                               </code>
                             </dt>
                             <dd>
                               <dl>
                                 <div>
                                   <a name="property-range-startTime"></a>
                                   <dt>
                                     <code class="variable">startTime</code>
                                     <code class="property">
                                       (

                                         double
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     Items added to history after this date, represented in milliseconds since the epoch.
                                   </dd>
                                 </div>
                                 <div>
                                   <a name="property-range-endTime"></a>
                                   <dt>
                                     <code class="variable">endTime</code>
                                     <code class="property">
                                       (

                                         double
                                       )
                                     </code>
                                   </dt>
                                   <dd>
                                     Items added to history before this date, represented in milliseconds since the epoch.
                                   </dd>
                                 </div>
                               </dl>
                             </dd>
                           </div>
                           <div>
                             <a name="property-deleteRange-callback"></a>
                             <dt>
                               <code class="variable">callback</code>
                               <code class="property">
                                 (

                                   function
                                 )
                               </code>
                             </dt>
                           </div>
                       </dl>
                         <h4>Callback</h4>
                         <p>
                               The <em>callback</em> parameter should specify a function
                               that looks like this:
                         </p>
                         <pre class="prettyprint">function() <code class="subdued">{...}</code>;</pre>
                     </div>
                   </div>
                   <div>
                     <h4 id="method-deleteAll">
                       deleteAll
                     </h4>
                     <div class="summary uncapitalize">
                     <code>chrome.history.deleteAll</code>(<code>function <code class="variable">callback</code></code>)
                     </div>
                     <div class="description">
                       <p>
                         Deletes all items from the history.
                       </p>
                       <h4>Parameters</h4>
                       <dl>
                           <div>
                             <a name="property-deleteAll-callback"></a>
                             <dt>
                               <code class="variable">callback</code>
                               <code class="property">
                                 (

                                   function
                                 )
                               </code>
                             </dt>
                           </div>
                       </dl>
                         <h4>Callback</h4>
                         <p>
                               The <em>callback</em> parameter should specify a function
                               that looks like this:
                         </p>
                         <pre class="prettyprint">function() <code class="subdued">{...}</code>;</pre>
                     </div>
                   </div>
                 <h2 id="events">Events</h2>
                   <div>
                     <h4 id="event-onVisited">onVisited</h4>
                     <div class="description">
                   <p>
                         Fired when a URL is visited, providing the HistoryItem data for that URL.  This event fires before the page has loaded.
                       </p>      <div>
                           <h4 id="event-onVisited-addListener">
                             addListener
                           </h4>
                           <div class="summary uncapitalize">
                           <code>chrome.history.onVisited.addListener</code>(<code>function <code class="variable">callback</code></code>)
                           </div>
                           <div class="description">
                             <h4>Parameters</h4>
                             <dl>
                                 <div>
                                   <a name="property-onVisited-callback"></a>
                                   <dt>
                                     <code class="variable">callback</code>
                                     <code class="property">
                                       (

                                         function
                                       )
                                     </code>
                                   </dt>
                                 </div>
                             </dl>
                               <h4>Callback</h4>
                               <p>
                                     The <em>callback</em> parameter should specify a function
                                     that looks like this:
                               </p>
                               <pre class="prettyprint">function(<a href="history.html#type-HistoryItem">HistoryItem</a> result) <code class="subdued">{...}</code>;</pre>
                               <dl>
                                   <div>
                                     <a name="property-onVisited-result"></a>
                                     <dt>
                                       <code class="variable">result</code>
                                       <code class="property">
                                         (

                                           <a href="history.html#type-HistoryItem">HistoryItem</a>
                                         )
                                       </code>
                                     </dt>
                                   </div>
                               </dl>
                           </div>
                         </div>
                     </div>
                   </div>
                   <div>
                     <h4 id="event-onVisitRemoved">onVisitRemoved</h4>
                     <div class="description">
                   <p>
                         Fired when one or more URLs are removed from the history service.  When all visits have been removed the URL is purged from history.
                       </p>      <div>
                           <h4 id="event-onVisitRemoved-addListener">
                             addListener
                           </h4>
                           <div class="summary uncapitalize">
                           <code>chrome.history.onVisitRemoved.addListener</code>(<code>function <code class="variable">callback</code></code>)
                           </div>
                           <div class="description">
                             <h4>Parameters</h4>
                             <dl>
                                 <div>
                                   <a name="property-onVisitRemoved-callback"></a>
                                   <dt>
                                     <code class="variable">callback</code>
                                     <code class="property">
                                       (

                                         function
                                       )
                                     </code>
                                   </dt>
                                 </div>
                             </dl>
                               <h4>Callback</h4>
                               <p>
                                     The <em>callback</em> parameter should specify a function
                                     that looks like this:
                               </p>
                               <pre class="prettyprint">function(object removed) <code class="subdued">{...}</code>;</pre>
                               <dl>
                                   <div>
                                     <a name="property-onVisitRemoved-removed"></a>
                                     <dt>
                                       <code class="variable">removed</code>
                                       <code class="property">
                                         (

                                           object
                                         )
                                       </code>
                                     </dt>
                                     <dd>
                                       <dl>
                                         <div>
                                           <a name="property-removed-allHistory"></a>
                                           <dt>
                                             <code class="variable">allHistory</code>
                                             <code class="property">
                                               (

                                                 boolean
                                               )
                                             </code>
                                           </dt>
                                           <dd>
                                             True if all history was removed.  If true, then urls will be empty.
                                           </dd>
                                         </div>
                                         <div>
                                           <a name="property-removed-urls"></a>
                                           <dt>
                                             <code class="variable">urls</code>
                                             <code class="property">
                                               (
                                                 <code class="optional">optional</code>
                                                 array of string
                                               )
                                             </code>
                                           </dt>
                                         </div>
                                       </dl>
                                     </dd>
                                   </div>
                               </dl>
                           </div>
                         </div>
                     </div>
                   </div>
             </div>

           </div>
